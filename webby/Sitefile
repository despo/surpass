task :screenshots do
  require "tasks/screenshots"
end

task :default => :pdf

desc "Move generated manual to surpass root directory."
task :copy do
  require "surpass"
  surpass_manual_filename = "surpass-manual-#{Surpass::VERSION.gsub(".", "-")}.pdf"
  `mv output/surpass-manual.pdf output/#{surpass_manual_filename}`
  `cp output/#{surpass_manual_filename} ..`
end

task :all => [:clobber, :screenshots, :pdf, :copy]

namespace :rubyforge do
  task :rsync do
    system "rsync -v -r --delete --exclude-from=rsync-exclude output/ ananelson@rubyforge.org:/var/www/gforge-projects/surpass/"
  end
end
